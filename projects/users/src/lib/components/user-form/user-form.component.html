<main class="form-signin text-center">
    <form [formGroup]="userForm" (ngSubmit)="submit()">
        <div class="form-floating">
            <input
                type="email"
                class="form-control"
                id="floatingInput"
                formControlName="email"
                placeholder="name@example.com"
            />
            <label for="floatingInput">Email address</label>
        </div>

        <app-alert alertType="danger" *ngIf="!userForm.get('email').valid && userForm.get('email').touched">
            <ng-container *ngIf="userForm.get('email').errors?.required">This is a required field</ng-container>
            <ng-container *ngIf="userForm.get('email').errors?.pattern">invalid e-mail address</ng-container>
        </app-alert>

        <div class="form-floating">
            <input
                type="password"
                class="form-control"
                id="floatingPassword"
                formControlName="password"
                placeholder="Password"
            />
            <label for="floatingPassword">Password</label>
        </div>

        <app-alert alertType="danger" *ngIf="!userForm.get('password').valid && userForm.get('password').touched">
            This is a required field
        </app-alert>

        <div class="form-floating">
            <input
                type="text"
                class="form-control"
                id="floatingFirstName"
                formControlName="first_name"
                placeholder="first_name"
            />
            <label for="floatingFirstName">First name</label>
        </div>

        <app-alert alertType="danger" *ngIf="!userForm.get('first_name').valid && userForm.get('first_name').touched">
            This is a required field
        </app-alert>

        <div class="form-floating">
            <input
                type="text"
                class="form-control"
                id="floatingLastName"
                formControlName="last_name"
                placeholder="last_name"
            />
            <label for="floatingLastName">Last name</label>
        </div>

        <app-alert alertType="danger" *ngIf="!userForm.get('last_name').valid && userForm.get('last_name').touched">
            This is a required field
        </app-alert>

        <div class="form-floating">
            <select id="floatingGender" formControlName="gender_id" class="form-select">
                <option>Gender selection</option>
                <option [value]="gender.id" *ngFor="let gender of genders$ | async">{{ gender.name }}</option>
            </select>

            <label for="floatingGender">Gender</label>
        </div>

        <app-alert alertType="danger" *ngIf="!userForm.get('gender_id').valid && userForm.get('gender_id').touched">
            This is a required field
        </app-alert>

        <div formGroupName="language">
            <div class="form-floating">
                <input
                    type="text"
                    class="form-control"
                    id="floatingLanguageMain"
                    formControlName="main"
                    placeholder="Main language"
                />
                <label for="floatingLanguageMain">Main language</label>
            </div>
            <app-alert alertType="danger" *ngIf="!userForm.get('language').valid && userForm.get('language').touched">
                This is a required field
            </app-alert>
            <div class="form-floating">
                <input
                    type="text"
                    class="form-control"
                    id="floatingLanguageMain"
                    formControlName="secondary"
                    placeholder="Second language"
                />
                <label for="floatingLanguageSecond">Second language</label>
            </div>
        </div>

        <app-alert alertType="danger" *ngIf="showError">
            <ng-container>Something wrong please try again</ng-container>
        </app-alert>

        <div class="action d-flex justify-content-end">
            <button class="w-10 btn btn-primary" type="reset">Cancel</button>
            <button class="w-10 btn btn-primary" type="submit" [disabled]="!userForm.valid">
                <ng-content></ng-content>
            </button>
        </div>
    </form>
</main>
